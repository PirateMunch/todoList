(()=>{"use strict";class e{constructor(e,t,n,o,d,c,a){return this.title=e,this.description=t,this.startDate=n,this.dueDate=o,this.priority=d,this.index=c,this.list=a,{title:e,description:t,startDate:n,dueDate:o,priority:d,index:c,list:a}}}let t=[];function n(){let e=this.nextElementSibling;"hiddenDiv"===e.className?e.classList.remove("hiddenDiv"):e.className="hiddenDiv"}function o(){localStorage.clear()}function d(){let e=localStorage.getItem("projects");JSON.parse(e).forEach((e=>{!function(e){const t=document.getElementById("projectSection"),c=document.createElement("div");c.id=`${e.index}`,c.className="projectDiv",t.appendChild(c);const a=document.createElement("div");a.id=`${e.index}`,a.className="projectHead",c.appendChild(a),a.addEventListener("click",n);const l=document.createElement("div");l.className="projectName",l.textContent=`${e.title}`,a.appendChild(l);const i=document.createElement("div");i.className="startDate",i.innerText=`started\n    ${e.startDate}`,a.appendChild(i);const r=document.createElement("div");r.id=`${e.index}`,r.className="hiddenDiv",c.appendChild(r);const m=document.createElement("ul");m.className="projectTitle",m.id="projectTitle",r.appendChild(m);const p=document.createElement("div");p.className="listDescription",p.innerText=`${e.description}`,m.appendChild(p);const u=document.createElement("div");u.id="listDueDate",u.className="listDueDate",u.innerText=`Finish by : ${e.dueDate}`,m.appendChild(u);const h=document.createElement("ul");switch(h.id=`${e.title}`,h.className="todoList",h.textContent="To-Do List",h.style.fontSize="1.5rem",h.style.fontWeight="700",m.appendChild(h),e.priority){case"1":c.className="lowP";break;case"2":c.className="midP";break;case"3":c.className="highP"}const E=document.createElement("div");E.className="todoDiv",r.appendChild(E);const C=document.createElement("input");C.type="text",C.className="listInput",C.id=`${e.title+10}`,C.placeholder="add to list",E.appendChild(C);const v=document.createElement("button");v.id="todoButton",v.className="todoButton",v.dataset.index=`${e.title}`,v.textContent="add",E.appendChild(v),v.addEventListener("click",(()=>{!function(e){const t=document.getElementById(`${e.title+10}`),n=document.getElementById(`${e.title}`),o=document.createElement("li");let d=e.list;o.textContent=t.value,n.appendChild(o),d.push(o),console.log(e.list)}(e),C.value=""}));const g=document.createElement("div");g.className="projectFoot",r.appendChild(g);const y=document.createElement("input");y.type="button",y.className="returnList",y.value="Home",g.appendChild(y),y.addEventListener("click",(()=>{s(),d()}));const N=document.createElement("button");N.className="deleteButton",N.dataset.delete="delete",N.id=`${e.index}`,N.innerHTML='<img src="delete1.svg">',g.appendChild(N);const D=document.querySelectorAll("button[data-delete]");for(const e of D)e.addEventListener("click",o)}(e)}))}function c(){const n=document.getElementById("addProjectButton"),o=document.getElementById("projectSection"),c=document.getElementById("title"),l=document.getElementById("description"),s=document.getElementById("dueDateInput"),r=document.getElementById("priorityRange");let m=Math.floor(Math.random()*Date.now()),p=c.value,u=l.value,h=[a((E=new Date).getDate()),a(E.getMonth()+1),E.getFullYear()].join("-");var E;let C=s.value,v=r.value;const g=new e(p,u,h,C,v,m,[]);return t.push(g),n.textContent="add project",function(e){let t=localStorage.getItem("projects"),n=JSON.parse(t);console.log(n),n.push(e),localStorage.setItem("projects",JSON.stringify(n)),console.log(n)}(g),o.replaceChildren(),d(),i(),t}function a(e){return e.toString().padStart(2,"0")}function l(){if(null===localStorage.getItem("projects")){let e=[];localStorage.setItem("projects",JSON.stringify(e)),console.log("makeCat")}else console.log("duno");(function(){s();const e=document.getElementById("projectSection"),t=document.createElement("div");t.className="formDiv",e.appendChild(t);const n=document.createElement("form");n.name="form",n.id="form",n.className="form1",t.appendChild(n);const o=document.createElement("div");o.className="titleDiv",n.appendChild(o);const d=document.createElement("input");d.type="text",d.id="title",d.placeholder="Add Project Title",o.appendChild(d);const c=document.createElement("div");c.className="descriptionDiv",n.appendChild(c);const a=document.createElement("input");a.type="text",a.id="description",a.placeholder="Add a short description of your To-Do List project",c.appendChild(a);const l=document.createElement("div");l.className="dueDateDiv",n.appendChild(l);const i=document.createElement("label");i.textContent="Your ideal completion date :",l.appendChild(i);const r=document.createElement("input");r.type="date",r.id="dueDateInput",r.className="dueDateInput",l.appendChild(r);const m=document.createElement("div");m.className="listContainer",n.appendChild(m);const p=new Date,u=document.createElement("input");u.type="text",u.className="listInput",u.id=`${p}`,u.placeholder="Add your first To-Do list",m.appendChild(u);const h=document.createElement("button");h.id="todoButton1",h.className="todoButton",h.dataset.index=`${p}`,h.textContent="add",m.appendChild(h),h.addEventListener("click",(()=>{}));const E=document.createElement("div");E.className="priorityContainer",E.textContent="Set priority level",n.appendChild(E);const C=document.createElement("div");C.className="priorityDiv",n.appendChild(C);const v=document.createElement("div");v.className="priorityLabel",C.appendChild(v);const g=document.createElement("span");g.className="priorityLow",g.textContent="low",g.style.color="green",C.appendChild(g);const y=document.createElement("input");y.type="range",y.id="priorityRange",y.className="priorityRange",y.min="1",y.max="3",C.appendChild(y);const N=document.createElement("span");N.className="priorityHigh",N.textContent="high",N.style.color="red",C.appendChild(N);const D=document.createElement("div");D.className="submitButtonDiv",n.appendChild(D);const f=document.createElement("button");return f.type="button",f.id="formSubmitButton",f.textContent="add project",D.appendChild(f),f})().addEventListener("click",c);const e=document.getElementById("addProjectButton");e.textContent="cancel form",e.addEventListener("click",(()=>{s(),d(),i()}))}function i(){const e=document.getElementById("addProjectButton");e.textContent="add project",e.addEventListener("click",l,{once:!0})}function s(){const e=document.getElementById("projectSection");let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild}document.getElementById("addProjectButton").addEventListener("click",l,{once:!0}),document.getElementById("clearLocal").addEventListener("click",(()=>{localStorage.clear()})),document.getElementById("burger").addEventListener("click",d),window.onload=d()})();