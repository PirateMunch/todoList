(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{yp:()=>c,ZP:()=>o,th:()=>a});class n{constructor(e,t,n,o,a,c,i){return this.title=e,this.description=t,this.startDate=n,this.dueDate=o,this.priority=a,this.index=c,this.list=i,{title:e,description:t,startDate:n,dueDate:o,priority:a,index:c,list:i}}}function o(e){let t=JSON.parse(localStorage.getItem("projects"));t.forEach((n=>{if(n.title===e.title){let e=t.indexOf(n);return e>-1&&t.splice(e,1),t}return t})),t.push(e),localStorage.setItem("projects",JSON.stringify(t))}function a(e){let t=JSON.parse(localStorage.getItem("projects"));t.forEach((n=>{if(n.title===e.title){let e=t.indexOf(n);e>-1&&t.splice(e,1)}})),localStorage.setItem("projects",JSON.stringify(t))}function c(e){let t=JSON.parse(localStorage.getItem("projects"));t.forEach((t=>{if(t.title===e.title){let t=document.getElementById(`${e.title+5}`);t.className="priorDiv";const n=document.createElement("div");n.className="sliderDiv",n.id="sliderDiv",u(n),t.replaceWith(n);const a=document.createElement("button");a.type="button",a.id="changeButton",a.className="changeButton",a.textContent="update",n.appendChild(a),a.addEventListener("click",(t=>{const a=document.getElementById("priorityRange");console.log(a.value),e.priority=a.value,console.log(e.priority);const c=t.target.parentNode.parentNode.parentNode;d(e,c),o(e);const l=t.target.parentNode.parentNode,r=i(e,l);n.replaceWith(r)}))}})),localStorage.setItem("projects",JSON.stringify(t))}function i(e,t){const n=document.createElement("div");n.className="projectFoot",n.id=`${e.title+5}`,t.appendChild(n);const o=document.createElement("input");o.type="button",o.id="priorityButton",o.className="priorityButton",o.value="Change priority",n.appendChild(o),o.addEventListener("click",(()=>{c(e)}));const i=document.createElement("button");i.className="deleteButton",i.dataset.delete="delete",i.id=`${e.index}`,i.innerHTML='<img src="delete1.svg">',n.appendChild(i),i.addEventListener("click",(()=>{a(e),y(),r()}))}function d(e,t){switch(e.priority){case"1":t.className="lowP";break;case"2":t.className="midP";break;case"3":t.className="highP"}}function l(){let e=this.nextElementSibling;"hiddenDiv"===e.className?e.classList.remove("hiddenDiv"):e.className="hiddenDiv"}function r(){let e=localStorage.getItem("projects");JSON.parse(e).forEach((e=>{!function(e){const n=document.getElementById("projectSection"),o=document.createElement("div");o.id=`${e.index}`,o.className="projectDiv",n.appendChild(o);const a=document.createElement("div");a.id=`${e.index}`,a.className="projectHead",o.appendChild(a),a.addEventListener("click",l);const c=document.createElement("div");c.className="projectName",c.textContent=`${e.title}`,a.appendChild(c);const r=document.createElement("div");r.className="startDate",r.innerText=`started\n    ${e.startDate}`,a.appendChild(r);const s=document.createElement("div");s.id=`${e.index}`,s.className="hiddenDiv",o.appendChild(s);const m=document.createElement("ul");m.className="projectTitle",m.id="projectTitle",s.appendChild(m);const p=document.createElement("div");p.className="listDescription",p.innerText=`${e.description}`,m.appendChild(p);const u=document.createElement("div");u.id="listDueDate",u.className="listDueDate",u.innerText=`Finish by : ${e.dueDate}`,m.appendChild(u);const g=document.createElement("ul");g.id=`${e.title}`,g.className="todoList",g.textContent="To-Do List",g.style.fontSize="1.5rem",g.style.fontWeight="700",m.appendChild(g),function(e){const t=e.list,n=document.getElementById(`${e.title}`);t.forEach((e=>{let t=document.createElement("li");const o=document.createElement("button");o.type="button",o.textContent="X",o.className="deleteItem",t.textContent=e,n.appendChild(t),t.appendChild(o)}))}(e),d(e,o);const y=document.createElement("div");y.className="todoDiv",s.appendChild(y);const E=document.createElement("input");E.type="text",E.className="listInput",E.id=`${e.title+10}`,E.placeholder="add to list",y.appendChild(E);const h=document.createElement("button");h.id="todoButton",h.className="todoButton",h.type="button",h.dataset.index=`${e.title}`,h.textContent="add",y.appendChild(h),h.addEventListener("click",(()=>{!function(e){let n=e.list;const o=document.getElementById(`${e.title+10}`),a=document.getElementById(`${e.title}`),c=document.createElement("li");c.textContent=o.value;const i=document.createElement("button");i.type="button",i.textContent="X",i.className="deleteItem",i.addEventListener("click",(e=>{let t=e.target.parentNode;n.forEach((e=>{if(e===t.textContent){let t=n.indexOf(e);t>-1&&n.splice(t,1)}})),a.removeChild(t)})),a.appendChild(c),c.appendChild(i),n.push(c.textContent),(0,t.getSetLocal)(e)}(e),E.value=""})),i(e,s)}(e)}))}function s(){const e=document.getElementById("addProjectButton"),t=document.getElementById("projectSection"),a=document.getElementById("title"),c=document.getElementById("description"),i=document.getElementById("dueDateInput"),d=document.getElementById("priorityRange"),l=document.getElementById("listInput1");let s=Math.floor(Math.random()*Date.now()),p=a.value,u=c.value,y=[m((E=new Date).getDate()),m(E.getMonth()+1),E.getFullYear()].join("-");var E;let h=i.value,v=d.value,f=s,C=[];""!==l.value&&C.push(l.value);const N=new n(p,u,y,h,v,f,C);e.textContent="add project",o(N),t.replaceChildren(),r(),g()}function m(e){return e.toString().padStart(2,"0")}function p(){if(null===localStorage.getItem("projects")){let e=[];localStorage.setItem("projects",JSON.stringify(e))}(function(){y();const e=document.getElementById("projectSection"),t=document.createElement("div");t.className="formDiv",e.appendChild(t);const n=document.createElement("form");n.name="form",n.id="form",n.className="form1",t.appendChild(n);const o=document.createElement("div");o.className="titleDiv",n.appendChild(o);const a=document.createElement("input");a.type="text",a.id="title",a.placeholder="Add Project Title",o.appendChild(a);const c=document.createElement("div");c.className="descriptionDiv",n.appendChild(c);const i=document.createElement("input");i.type="text",i.id="description",i.placeholder="Add a short description of your To-Do List project",c.appendChild(i);const d=document.createElement("div");d.className="dueDateDiv",n.appendChild(d);const l=document.createElement("label");l.textContent="Your ideal completion date :",d.appendChild(l);const r=document.createElement("input");r.type="date",r.id="dueDateInput",r.className="dueDateInput",d.appendChild(r);const s=document.createElement("div");s.className="listContainer",n.appendChild(s);const m=document.createElement("input");m.type="text",m.className="listInput1",m.id="listInput1",m.placeholder="Add your first To-Do list item",s.appendChild(m);const p=document.createElement("div");p.className="priorityContainer",p.textContent="Set priority level",n.appendChild(p);const g=document.createElement("div");g.className="priorityDiv",n.appendChild(g),u(g);const E=document.createElement("div");E.className="submitButtonDiv",n.appendChild(E);const h=document.createElement("button");return h.type="button",h.id="formSubmitButton",h.textContent="add project",E.appendChild(h),h})().addEventListener("click",s);const e=document.getElementById("addProjectButton");e.textContent="cancel form",e.addEventListener("click",(()=>{y(),r(),g()}))}function u(e){const t=document.createElement("div");t.className="priorityLabel",e.appendChild(t);const n=document.createElement("span");n.className="priorityLow",n.textContent="low",n.style.color="green",e.appendChild(n);const o=document.createElement("input");o.type="range",o.id="priorityRange",o.className="priorityRange",o.min="1",o.max="3",e.appendChild(o);const a=document.createElement("span");a.className="priorityHigh",a.textContent="high",a.style.color="red",e.appendChild(a)}function g(){const e=document.getElementById("addProjectButton");e.textContent="add project",e.addEventListener("click",p,{once:!0})}function y(){const e=document.getElementById("projectSection");let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild}function E(){var e=document.getElementById("burgerLinks");"block"===e.style.display?e.style.display="none":e.style.display="block"}document.getElementById("sortBy").addEventListener("click",E),document.getElementById("sortPriority").addEventListener("click",(function(){E();let e=JSON.parse(localStorage.getItem("projects"));e.sort((function(t,n){return 3==e[0].priority?t.priority-n.priority:n.priority-t.priority})),localStorage.setItem("projects",JSON.stringify(e)),y(),r()})),document.getElementById("sortStart").addEventListener("click",(function(){E();let e=JSON.parse(localStorage.getItem("projects"));e.sort((function(t,n){if(e[0].startDate>e[1].startDate)return new Date(t.startDate)-new Date(n.startDate);{let e=new Date(t.startDate);return new Date(n.startDate)-e}})),localStorage.setItem("projects",JSON.stringify(e)),y(),r()})),document.getElementById("sortFinish").addEventListener("click",(function(){E();let e=JSON.parse(localStorage.getItem("projects"));e.sort((function(t,n){if(e[0].dueDate>e[1].dueDate)return new Date(t.dueDate)-new Date(n.dueDate);{let e=new Date(t.dueDate);return new Date(n.dueDate)-e}})),localStorage.setItem("projects",JSON.stringify(e)),y(),r()})),document.getElementById("addProjectButton").addEventListener("click",p,{once:!0}),document.getElementById("burger").addEventListener("click",E),document.getElementById("clearLocal").addEventListener("click",(()=>{localStorage.clear()})),window.onload=function(){if(null===localStorage.getItem("projects")){const e=document.getElementById("projectSection"),t=document.createElement("div");t.className="startPage",t.textContent="No projects or lists found.\nAdd a project to get started!",e.appendChild(t)}else r()}()})();