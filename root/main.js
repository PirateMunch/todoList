(()=>{"use strict";class e{constructor(e,t,n,o,d,c,a){return this.title=e,this.description=t,this.startDate=n,this.dueDate=o,this.priority=d,this.index=c,this.list=a,{title:e,description:t,startDate:n,dueDate:o,priority:d,index:c,list:a}}}let t=[];function n(e){let t=localStorage.getItem("projects"),n=JSON.parse(t);console.log(n),n.push(e),localStorage.setItem("projects",JSON.stringify(n)),console.log(n)}function o(){let e=this.nextElementSibling;"hiddenDiv"===e.className?e.classList.remove("hiddenDiv"):e.className="hiddenDiv"}function d(){let e=localStorage.getItem("projects");JSON.parse(e).forEach((e=>{!function(e){const t=document.getElementById("projectSection"),d=document.createElement("div");d.id=`${e.index}`,d.className="projectDiv",t.appendChild(d);const c=document.createElement("div");c.id=`${e.index}`,c.className="projectHead",d.appendChild(c),c.addEventListener("click",o);const a=document.createElement("div");a.className="projectName",a.textContent=`${e.title}`,c.appendChild(a);const l=document.createElement("div");l.className="startDate",l.innerText=`started\n    ${e.startDate}`,c.appendChild(l);const i=document.createElement("div");i.id=`${e.index}`,i.className="hiddenDiv",d.appendChild(i);const s=document.createElement("ul");s.className="projectTitle",s.id="projectTitle",i.appendChild(s);const r=document.createElement("div");r.className="listDescription",r.innerText=`${e.description}`,s.appendChild(r);const m=document.createElement("div");m.id="listDueDate",m.className="listDueDate",m.innerText=`Finish by : ${e.dueDate}`,s.appendChild(m);const p=document.createElement("ul");switch(p.id=`${e.title}`,p.className="todoList",p.textContent="To-Do List",p.style.fontSize="1.5rem",p.style.fontWeight="700",s.appendChild(p),e.priority){case"1":d.className="lowP";break;case"2":d.className="midP";break;case"3":d.className="highP"}const u=document.createElement("div");u.className="todoDiv",i.appendChild(u);const h=document.createElement("input");h.type="text",h.className="listInput",h.id=`${e.title+10}`,h.placeholder="add to list",u.appendChild(h);const E=document.createElement("button");E.id="todoButton",E.className="todoButton",E.type="button",E.dataset.index=`${e.title}`,E.textContent="add",u.appendChild(E),E.addEventListener("click",(()=>{!function(e){const t=document.getElementById(`${e.title+10}`),n=document.getElementById(`${e.title}`),o=document.createElement("li");let d=e.list;o.textContent=t.value,n.appendChild(o),d.push(o),console.log(e.list)}(e),h.value="",n()}));const C=document.createElement("div");C.className="projectFoot",i.appendChild(C);const v=document.createElement("input");v.type="button",v.className="returnList",v.value="Home",C.appendChild(v),v.addEventListener("click",(()=>{console.log("somin")}));const g=document.createElement("button");g.className="deleteButton",g.dataset.delete="delete",g.id=`${e.index}`,g.innerHTML='<img src="delete1.svg">',C.appendChild(g);const y=document.querySelectorAll("button[data-delete]");for(const e of y);}(e)}))}function c(){const o=document.getElementById("addProjectButton"),c=document.getElementById("projectSection"),l=document.getElementById("title"),s=document.getElementById("description"),r=document.getElementById("dueDateInput"),m=document.getElementById("priorityRange");let p=Math.floor(Math.random()*Date.now()),u=l.value,h=s.value,E=[a((C=new Date).getDate()),a(C.getMonth()+1),C.getFullYear()].join("-");var C;let v=r.value,g=m.value;const y=new e(u,h,E,v,g,p,[]);return t.push(y),o.textContent="add project",n(y),c.replaceChildren(),d(),i(),t}function a(e){return e.toString().padStart(2,"0")}function l(){if(null===localStorage.getItem("projects")){let e=[];localStorage.setItem("projects",JSON.stringify(e)),console.log("makeCat")}else console.log("duno");(function(){s();const e=document.getElementById("projectSection"),t=document.createElement("div");t.className="formDiv",e.appendChild(t);const n=document.createElement("form");n.name="form",n.id="form",n.className="form1",t.appendChild(n);const o=document.createElement("div");o.className="titleDiv",n.appendChild(o);const d=document.createElement("input");d.type="text",d.id="title",d.placeholder="Add Project Title",o.appendChild(d);const c=document.createElement("div");c.className="descriptionDiv",n.appendChild(c);const a=document.createElement("input");a.type="text",a.id="description",a.placeholder="Add a short description of your To-Do List project",c.appendChild(a);const l=document.createElement("div");l.className="dueDateDiv",n.appendChild(l);const i=document.createElement("label");i.textContent="Your ideal completion date :",l.appendChild(i);const r=document.createElement("input");r.type="date",r.id="dueDateInput",r.className="dueDateInput",l.appendChild(r);const m=document.createElement("div");m.className="listContainer",n.appendChild(m);const p=new Date,u=document.createElement("input");u.type="text",u.className="listInput",u.id=`${p}`,u.placeholder="Add your first To-Do list",m.appendChild(u);const h=document.createElement("button");h.id="todoButton1",h.className="todoButton",h.type="button",h.dataset.index=`${p}`,h.textContent="add",m.appendChild(h);const E=document.createElement("div");E.className="priorityContainer",E.textContent="Set priority level",n.appendChild(E);const C=document.createElement("div");C.className="priorityDiv",n.appendChild(C);const v=document.createElement("div");v.className="priorityLabel",C.appendChild(v);const g=document.createElement("span");g.className="priorityLow",g.textContent="low",g.style.color="green",C.appendChild(g);const y=document.createElement("input");y.type="range",y.id="priorityRange",y.className="priorityRange",y.min="1",y.max="3",C.appendChild(y);const N=document.createElement("span");N.className="priorityHigh",N.textContent="high",N.style.color="red",C.appendChild(N);const D=document.createElement("div");D.className="submitButtonDiv",n.appendChild(D);const f=document.createElement("button");return f.type="button",f.id="formSubmitButton",f.textContent="add project",D.appendChild(f),f})().addEventListener("click",c);const e=document.getElementById("addProjectButton");e.textContent="cancel form",e.addEventListener("click",(()=>{s(),d(),i()}))}function i(){const e=document.getElementById("addProjectButton");e.textContent="add project",e.addEventListener("click",l,{once:!0})}function s(){const e=document.getElementById("projectSection");let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild}document.getElementById("addProjectButton").addEventListener("click",l,{once:!0}),document.getElementById("clearLocal").addEventListener("click",(()=>{localStorage.clear()})),document.getElementById("burger").addEventListener("click",d),window.onload=d()})();