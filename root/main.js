(()=>{"use strict";class e{constructor(e,t,n,o,d,c,a){return this.title=e,this.description=t,this.startDate=n,this.dueDate=o,this.priority=d,this.index=c,this.list=a,{title:e,description:t,startDate:n,dueDate:o,priority:d,index:c,list:a}}}let t=[];function n(e){let t=JSON.parse(localStorage.getItem("projects"));t.forEach((n=>{if(n.title===e.title){let e=t.indexOf(n);e>-1&&t.splice(e,1)}})),t.push(e),localStorage.setItem("projects",JSON.stringify(t))}function o(){let e=this.nextElementSibling;"hiddenDiv"===e.className?e.classList.remove("hiddenDiv"):e.className="hiddenDiv"}function d(){let e=localStorage.getItem("projects");JSON.parse(e).forEach((e=>{!function(e){const t=document.getElementById("projectSection"),c=document.createElement("div");c.id=`${e.index}`,c.className="projectDiv",t.appendChild(c);const a=document.createElement("div");a.id=`${e.index}`,a.className="projectHead",c.appendChild(a),a.addEventListener("click",o);const i=document.createElement("div");i.className="projectName",i.textContent=`${e.title}`,a.appendChild(i);const l=document.createElement("div");l.className="startDate",l.innerText=`started\n    ${e.startDate}`,a.appendChild(l);const s=document.createElement("div");s.id=`${e.index}`,s.className="hiddenDiv",c.appendChild(s);const m=document.createElement("ul");m.className="projectTitle",m.id="projectTitle",s.appendChild(m);const p=document.createElement("div");p.className="listDescription",p.innerText=`${e.description}`,m.appendChild(p);const u=document.createElement("div");u.id="listDueDate",u.className="listDueDate",u.innerText=`Finish by : ${e.dueDate}`,m.appendChild(u);const h=document.createElement("ul");switch(h.id=`${e.title}`,h.className="todoList",h.textContent="To-Do List",h.style.fontSize="1.5rem",h.style.fontWeight="700",m.appendChild(h),function(e){const t=e.list,n=document.getElementById(`${e.title}`);t.forEach((e=>{let t=document.createElement("li");console.log(e),t.textContent=e,n.appendChild(t)}))}(e),e.priority){case"1":c.className="lowP";break;case"2":c.className="midP";break;case"3":c.className="highP"}const E=document.createElement("div");E.className="todoDiv",s.appendChild(E);const C=document.createElement("input");C.type="text",C.className="listInput",C.id=`${e.title+10}`,C.placeholder="add to list",E.appendChild(C);const g=document.createElement("button");g.id="todoButton",g.className="todoButton",g.type="button",g.dataset.index=`${e.title}`,g.textContent="add",E.appendChild(g),g.addEventListener("click",(()=>{!function(e){const t=document.getElementById(`${e.title+10}`),o=document.getElementById(`${e.title}`),d=document.createElement("li");let c=e.list;d.textContent=t.value,o.appendChild(d),c.push(d.textContent),n(e)}(e),C.value=""}));const v=document.createElement("div");v.className="projectFoot",s.appendChild(v);const y=document.createElement("input");y.type="button",y.className="returnList",y.value="Home",v.appendChild(y),y.addEventListener("click",(()=>{}));const N=document.createElement("button");N.className="deleteButton",N.dataset.delete="delete",N.id=`${e.index}`,N.innerHTML='<img src="delete1.svg">',v.appendChild(N),N.addEventListener("click",(()=>{!function(e){let t=JSON.parse(localStorage.getItem("projects"));t.forEach((n=>{if(n.title===e.title){let e=t.indexOf(n);e>-1&&t.splice(e,1)}})),localStorage.setItem("projects",JSON.stringify(t))}(e),r(),d()}))}(e)}))}function c(){const o=document.getElementById("addProjectButton"),c=document.getElementById("projectSection"),i=document.getElementById("title"),l=document.getElementById("description"),r=document.getElementById("dueDateInput"),m=document.getElementById("priorityRange");let p=Math.floor(Math.random()*Date.now()),u=i.value,h=l.value,E=[a((C=new Date).getDate()),a(C.getMonth()+1),C.getFullYear()].join("-");var C;let g=r.value,v=m.value;const y=new e(u,h,E,g,v,p,[]);return t.push(y),o.textContent="add project",n(y),c.replaceChildren(),d(),s(),t}function a(e){return e.toString().padStart(2,"0")}function i(){if(null===localStorage.getItem("projects")){let e=[];localStorage.setItem("projects",JSON.stringify(e)),console.log("makeCat")}else console.log("duno");(function(){r();const e=document.getElementById("projectSection"),t=document.createElement("div");t.className="formDiv",e.appendChild(t);const n=document.createElement("form");n.name="form",n.id="form",n.className="form1",t.appendChild(n);const o=document.createElement("div");o.className="titleDiv",n.appendChild(o);const d=document.createElement("input");d.type="text",d.id="title",d.placeholder="Add Project Title",o.appendChild(d);const c=document.createElement("div");c.className="descriptionDiv",n.appendChild(c);const a=document.createElement("input");a.type="text",a.id="description",a.placeholder="Add a short description of your To-Do List project",c.appendChild(a);const i=document.createElement("div");i.className="dueDateDiv",n.appendChild(i);const s=document.createElement("label");s.textContent="Your ideal completion date :",i.appendChild(s);const m=document.createElement("input");m.type="date",m.id="dueDateInput",m.className="dueDateInput",i.appendChild(m);const p=document.createElement("div");p.className="listContainer",n.appendChild(p);const u=new Date,h=document.createElement("input");h.type="text",h.className="listInput",h.id=`${u}`,h.placeholder="Add your first To-Do list",p.appendChild(h);const E=document.createElement("button");E.id="todoButton1",E.className="todoButton",E.type="button",E.dataset.index=`${u}`,E.textContent="add",p.appendChild(E),E.addEventListener("click",l);const C=document.createElement("div");C.className="priorityContainer",C.textContent="Set priority level",n.appendChild(C);const g=document.createElement("div");g.className="priorityDiv",n.appendChild(g);const v=document.createElement("div");v.className="priorityLabel",g.appendChild(v);const y=document.createElement("span");y.className="priorityLow",y.textContent="low",y.style.color="green",g.appendChild(y);const N=document.createElement("input");N.type="range",N.id="priorityRange",N.className="priorityRange",N.min="1",N.max="3",g.appendChild(N);const f=document.createElement("span");f.className="priorityHigh",f.textContent="high",f.style.color="red",g.appendChild(f);const D=document.createElement("div");D.className="submitButtonDiv",n.appendChild(D);const x=document.createElement("button");return x.type="button",x.id="formSubmitButton",x.textContent="add project",D.appendChild(x),x})().addEventListener("click",c);const e=document.getElementById("addProjectButton");e.textContent="cancel form",e.addEventListener("click",(()=>{r(),d(),s()}))}function l(){let e=JSON.parse(localStorage.getItem("projects"));console.log(e)}function s(){const e=document.getElementById("addProjectButton");e.textContent="add project",e.addEventListener("click",i,{once:!0})}function r(){const e=document.getElementById("projectSection");let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild}document.getElementById("addProjectButton").addEventListener("click",i,{once:!0}),document.getElementById("clearLocal").addEventListener("click",(()=>{localStorage.clear()})),document.getElementById("burger").addEventListener("click",d),window.onload=d()})();